3589. Count Prime-Gap Balanced Subarrays

https://leetcode.com/problems/count-prime-gap-balanced-subarrays/submissions/1905082694/

class Solution {
    public int primeSubarray(int[] nums, int k) {
        int count = 0;
        int n = nums.length;
        int maxNum=-1;
        for(int ele : nums) maxNum=Math.max(maxNum,ele);
        boolean[] Prime = new boolean[maxNum+1];
        for(int i=2;i<=maxNum;i++) Prime[i]= isPrime(i);
        for(int i=0;i<n-1;i++){
            int min = Integer.MAX_VALUE;
            int max = Integer.MIN_VALUE;
            int prime = 0;
            for(int j=i;j<n;j++){
                int num = nums[j];
                if(Prime[num]) {
                    prime++;
                    min=Math.min(min,num);
                    max=Math.max(max,num);
                }
                if(prime >= 2 && (max-min) <= k) count++;
            }
        }
        return count;
    }
    public boolean isPrime(int val) {
        if (val <= 1) return false;
        if (val == 2) return true;
        if (val % 2 == 0) return false;

        for (int i = 3; i * i <= val; i += 2) {
            if (val % i == 0) return false;
        }
        return true;
    }
}
